<!-- original code <section class="chc-center-section" *ngIf="DoctorDetails"> -->
<!--remove if condition by abhishek-->
<section class="chc-center-section">
  <div class="d-flex align-items-start">
    <div
      class="nav flex-column nav-pills me-3 sidebar fixed"
      id="v-pills-tab"
      role="tablist"
      aria-orientation="vertical"
    >
      <div class="sidebar-heading-div">
        <h3 class="sidebar-heading">{{ CookiesUserName }}</h3>
      </div>

      <button
        class="nav-link active"
        id="v-pills-home-tab"
        data-bs-toggle="pill"
        data-bs-target="#v-pills-home"
        type="button"
        role="tab"
        aria-controls="v-pills-home"
        aria-selected="true"
        (click)="menuClick('dashboard')"
      >
        Dashboard
      </button>
      <button
        class="nav-link"
        id="v-pills-profile-tab"
        data-bs-toggle="pill"
        data-bs-target="#v-pills-profile"
        type="button"
        role="tab"
        aria-controls="v-pills-profile"
        aria-selected="false"
        (click)="menuClick('account')"
      >
        Account
      </button>
      <button
        class="nav-link"
        id="v-pills-notification-tab"
        data-bs-toggle="pill"
        data-bs-target="#v-pills-notification"
        type="button"
        role="tab"
        aria-controls="v-pills-messages"
        aria-selected="false"
        (click)="menuClick('notification')"
      >
        Notifications
      </button>
      <button
        class="nav-link"
        id="v-pills-patient-queue-tab"
        data-bs-toggle="pill"
        data-bs-target="#v-pills-patient-queue"
        type="button"
        role="tab"
        aria-controls="v-pills-patient-queue"
        aria-selected="false"
        (click)="RefreshpateintWaitList()"
      >
        Patient Queue
      </button>
      <button
        class="nav-link"
        id="v-pills-messages-tab"
        data-bs-toggle="pill"
        data-bs-target="#v-pills-messages"
        type="button"
        role="tab"
        aria-controls="v-pills-messages"
        aria-selected="false"
        (click)="menuClick('history')"
      >
        History
      </button>
      <button
        class="nav-link"
        id="v-pills-calendar-tab"
        data-bs-toggle="pill"
        data-bs-target="#v-pills-calendar"
        type="button"
        role="tab"
        aria-controls="v-pills-calendar"
        aria-selected="false"
        (click)="menuClick('Calendar')"
      >
        Calendar
      </button>

      <!-- calender -->
      <!-- <button
      class="nav-link"
      id="v-pills-calender-tab"
      data-bs-toggle="pill"
      data-bs-target="#v-pills-calender"
      type="button"
      role="tab"
      aria-controls="v-pills-messages"
      aria-selected="false"
      (click)="menuClick('calender')"
    >
      Calender
    </button> -->

      <div class="d-flex justify-content-center">
        <button
          class="nav-link text-footer"
          id="v-pills-messages-tab"
          type="button"
          role="tab"
          aria-controls="v-pills-messages"
          aria-selected="false"
          (click)="onSignOut()"
        >
          Logout
        </button>
        <mat-slide-toggle
          [(ngModel)]="isChecked"
          class="offtogglekt"
          (change)="UpdateIsDrOnline(isChecked)"
        >
          {{ isChecked == true ? "Online" : "Offline" }}
        </mat-slide-toggle>
      </div>
    </div>
    <div class="tab-content mid-content" id="v-pills-tabContent">
      <!-- dashboard div -->
      <div
        class="tab-pane fade show active"
        id="v-pills-home"
        role="tabpanel"
        aria-labelledby="v-pills-home-tab"
      >
        <div class="main-content-div">
          <div class="main-mid-div">
            <div class="top-div">
              <div class="top-search-register">
                <input
                  class="nosubmit"
                  type="search"
                  placeholder="Search patients"
                  (click)="searchOpenModal()"
                />
                <span (click)="refreshClick()"
                  ><img
                    style="width: 20px; cursor: pointer"
                    src="../../../../assets/Images/smaill-icon/refresh-red.png"
                    alt=""
                /></span>
                <div>
                  <button class="btn bg-purple" (click)="openModal()">
                    PHC Hospitals
                  </button>
                </div>
              </div>

              <div style="display: flex">
                <h3 class="text-form me-3">
                  <span class="text-danger">
                    Latest referred: {{ LatestReferred[0]?.count }}</span
                  >
                </h3>
                <h3 class="text-form me-3">
                  Today's Consultation: {{ LatestReferred[1]?.count }}
                </h3>

                <h3 class="text-form">
                  Avg Consultation Time:
                  {{ LatestReferred[2]?.count }} (mm:ss)
                </h3>
              </div>

              <div class="todays-patient-div" style="display: flex">
                <h3 class="text-form me-3">Today's Patients</h3>
              </div>
              <div>
                <table class="table">
                  <thead>
                    <tr class="border-style-hidden">
                      <th scope="col">Patient Name</th>
                      <th scope="col">Patient ID</th>
                      <th scope="col">Gender</th>
                      <th scope="col">Age</th>
                      <th scope="col">Referred by</th>
                      <th scope="col">Case Title</th>
                      <th scope="col"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let Patient of todayPatients">
                      <td
                        style="cursor: pointer"
                        (click)="onclickvideoIcon(Patient.id)"
                      >
                        {{ Patient.patientName }}
                      </td>
                      <td>{{ Patient.patientID }}</td>
                      <td>{{ Patient.gender }}</td>
                      <td>{{ Patient.age }}</td>
                      <td>{{ Patient.referredbyPHCName }}</td>
                      <td>{{ Patient.caseHeading }}</td>
                      <!-- <td>
                                                <button
                                                (click)="onInitiateMeeting({'patientCaseID':218,'patientID':2,'phcId':1,'isGroup':false,'isDoctor':true})">
                                                test call
                                            </button>
                                            </td> -->
                      <td>
                        <!-- <a (click)="onInitiateMeeting(Patient)" *ngIf="Patient.canCallInitiate">
                                                    <span class="img-video"><img
                                                            src="../../../../assets/Images/smaill-icon/video-call-icon.png"
                                                            alt=""></span>
                                                </a> -->
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="main-bottom-div">
              <div class="consultated-patient-div">
                <h3 class="text-form">Completed Consultation</h3>
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col">Patient Name</th>
                      <th scope="col">Patient ID</th>
                      <th scope="col">Gender</th>
                      <th scope="col">Age</th>
                      <th scope="col">Referred by</th>
                      <th scope="col">Case Title</th>
                      <!-- <th scope="col">Case File No.</th> -->
                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      *ngFor="
                        let com of completedcons
                          | paginate
                            : {
                                itemsPerPage: 10,
                                currentPage: page,
                                totalItems: count
                              };
                        let i = index
                      "
                    >
                      <td
                        style="cursor: pointer"
                        (click)="onclickvideoIcon(com.id)"
                      >
                        {{ com.patientName }}
                      </td>
                      <td>{{ com.patientID }}</td>
                      <td>{{ com.gender }}</td>
                      <td>{{ com.age }}</td>
                      <td>{{ com.referredbyPHCName }}</td>
                      <td>{{ com.caseHeading }}</td>
                      <!-- <td>{{com.caseFileNumber}}</td> -->
                      <!-- <td> {{i}}</td> -->
                    </tr>
                  </tbody>
                </table>
                <div style="display: flex; justify-content: end">
                  <pagination-controls
                    (pageChange)="page = $event"
                  ></pagination-controls>
                </div>
              </div>
            </div>
          </div>

          <div class="right-side-doctor-div">
            <div class="available-doctor-heading-div">
              <h4>Video Call Requests</h4>
            </div>
            <form [formGroup]="form" autocomplete="off">
              <div class="col-md-10" style="margin: 0 auto">
                <select
                  class="form-control"
                  formControlName="districtName"
                  id="exampleFormControlInput1"
                  (change)="checkFirstDropdown($event)"
                >
                  <option [ngValue]="null" [disabled]="true">
                    Please Select district
                  </option>

                  <option
                    *ngFor="let m of districtmaster; let i = index"
                    [value]="m.id"
                  >
                    {{ m.districtName }}
                  </option>
                </select>
              </div>

              <div class="col-md-10" style="margin: 0 auto; margin-top: 10px">
                <select
                  class="form-control"
                  id="exampleFormControlInput1"
                  (change)="onOptionsSelected($event)"
                  formControlName="phclist"
                >
                  <option
                    *ngFor="let m of phcListfilter; let i = index"
                    [value]="m.id"
                  >
                    {{ m.phcName }}
                  </option>
                </select>
              </div>
            </form>
            <!-- <form [formGroup]="form">
                            <label>Country:</label><br>
                            <select formControlName="districtName" (change)="checkFirstDropdown($event)">
                                <option *ngFor="let m of districtmaster" [value]="m.id">
                                    {{m.districtName}}
                                </option>
                            </select>
                             <br>  <br>
                             <label>City</label><br>
                             <select formControlName="phclist" >
                                <option *ngFor="let m of phcListfilter" [value]="m.id">
                                    {{m.phcName}}
                                </option>
                            </select>
                        </form> -->

            <div class="col-md-10">
              <div class="d-flex justify-content-center" *ngIf="istrue">
                <div class="available-doctor-cards">
                  <div class="doctor-card">
                    <div>
                      <h5>{{ detaildoctorFName }}</h5>
                      <p>{{ getmoname }}</p>
                      <!------------------Temporary close--------------------->
                      <!-- <div class="d-flex justify-content-center">
                        <span
                          (click)="onclickvideocall()"
                          class="img-list-video"
                          ><img
                            src="../../../../assets/Images/smaill-icon/video-call-icon.png"
                            alt=""
                        /></span>
                      </div> -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Account div -->
      <div
        class="tab-pane fade"
        id="v-pills-profile"
        role="tabpanel"
        aria-labelledby="v-pills-profile-tab"
      >
        <form [formGroup]="doctorForm" autocomplete="off">
          <div class="account-info">
            <div class="account-first-section">
              <div class="row mb-3">
                <div class="col-md-4">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >First Name</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      readonly
                      placeholder="Enter FirstName"
                      formControlName="firstName"
                      oninput="this.value = this.value.toUpperCase()"
                      onkeypress="return ((event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || event.charCode == 8 || event.charCode == 32 || (event.charCode >= 48 && event.charCode <= 57));"
                    />
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['firstName'].invalid && doctorForm.controls['firstName'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['firstName'].errors">
                                            First Name is required
                                        </div>
                                    </div> -->
                </div>
                <div class="col-md-4">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >Middle Name</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      readonly
                      placeholder="Enter MiddleName"
                      formControlName="middleName"
                    />
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['middleName'].invalid && doctorForm.controls['middleName'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['middleName'].errors">
                                            Middle Name is required
                                        </div>
                                    </div> -->
                </div>

                <div class="col-md-4">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >Last Name</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      readonly
                      placeholder="Enter LastName"
                      formControlName="lastName"
                    />
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['lastName'].invalid && doctorForm.controls['lastName'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['lastName'].errors">
                                            Last Name is required
                                        </div>
                                    </div> -->
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-4">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >Specialization</label
                    >

                    <!-- <select class="form-control" id="exampleFormControlInput1" 
                                            formControlName="spclztn" (change)='onSpecializationChange($event)'>
                                            <option 
                                                *ngFor="let spz of getListOfSpecializationMastervar[0]; let i = index;"
                                                [value]="spz.id">
                                                {{spz.specialization}}
                                            </option>
                                        </select> -->
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      readonly
                      placeholder="Enter Specialization"
                      formControlName="spclztn"
                    />
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['spclztn'].invalid && doctorForm.controls['spclztn'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['spclztn'].errors">
                                            Specialization is required
                                        </div>
                                    </div> -->
                </div>
                <!-- <div class="col-md-4">
                                    <div class="form-group mb-2">
                                        <label for="exampleFormControlInput1 mb-2"
                                            class="mbt-1">Sub-Specialization</label>
                                        <select class="form-control" id="exampleFormControlInput1"
                                            formControlName="subspcalztn" (change)='onSubSpecializationChange($event)'>
                                            <option *ngFor="let spz of getListOfSubSpecialization[0]; let i = index;"
                                                [value]="spz.id">
                                                {{spz.subSpecialization}}
                                            </option>
                                        </select>
                                    </div>
                                    <div *ngIf="doctorForm.controls['subspcalztn'].invalid && doctorForm.controls['subspcalztn'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['subspcalztn'].errors">
                                            Sub Specialization is required
                                        </div>
                                    </div>

                                </div> -->

                <div class="col-md-4">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >Qualification</label
                    >

                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      readonly
                      placeholder="Enter Qualification"
                      formControlName="subspcalztn"
                    />
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['subspcalztn'].invalid && doctorForm.controls['subspcalztn'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['subspcalztn'].errors">
                                            Qualification is required
                                        </div>
                                    </div> -->
                </div>
                <div class="col-md-4">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >Designation</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      readonly
                      placeholder="Enter Designation"
                      formControlName="designation"
                    />
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['designation'].invalid && doctorForm.controls['designation'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['designation'].errors">
                                            Designation is required
                                        </div>
                                    </div> -->
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-5">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >Email Address</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      placeholder="Enter Email"
                      formControlName="email"
                      [readonly]="true"
                      [disabled]="true"
                    />
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['email'].invalid && doctorForm.controls['email'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['email'].errors">
                                            Email is required
                                        </div>
                                    </div> -->
                  <div class="error text-danger small"></div>
                </div>
                <div class="col-md-5">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >Phone Number</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      readonly
                      placeholder="Enter Phone Number"
                      formControlName="phNumber"
                    />
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['phNumber'].invalid && doctorForm.controls['phNumber'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['phNumber'].errors">
                                            Phone Number is required
                                        </div>
                                    </div> -->
                </div>
                <div class="col-md-2"></div>
              </div>

              <div class="row mb-3">
                <div class="col-md-3">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >City</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      readonly
                      placeholder="Enter City"
                      formControlName="city"
                    />
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['city'].invalid && doctorForm.controls['city'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['city'].errors">
                                            City is required
                                        </div>
                                    </div> -->
                </div>
                <div class="col-md-4">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >State</label
                    >
                    <!-- <select class="form-control" id="exampleFormControlInput1"
                                            (change)="onStateChange($event)" formControlName="state">
                                            <option *ngFor="let st of statemaster[0]; let i = index;" [value]="st.id"
                                                [selected]="st.id == DoctorDetails.detailsDTO.stateId">
                                                {{st.stateName}}
                                            </option>
                                        </select> -->
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      readonly
                      placeholder="Enter State"
                      formControlName="state"
                    />

                    <!-- <input type="text" class="form-control" id="exampleFormControlInput1"
                                            placeholder="Enter State" formControlName="state"> -->
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['state'].invalid && doctorForm.controls['state'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['state'].errors">
                                            State is required
                                        </div>
                                    </div> -->
                </div>
                <div class="col-md-3">
                  <div class="form-group mb-2">
                    <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                      >Postal Code</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput1"
                      readonly
                      placeholder="Enter Postal Code"
                      formControlName="postalCode"
                      (keypress)="keyPressNumbers($event)"
                    />
                  </div>
                  <!-- <div *ngIf="doctorForm.controls['postalCode'].invalid && doctorForm.controls['postalCode'].touched"
                                        class="error text-danger small">
                                        <div *ngIf="doctorForm.controls['postalCode'].errors">
                                            Postal Code is required
                                        </div>
                                    </div> -->
                </div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col-md-4">
                <label for="" class="mbt-1 gender-set">Gender</label>
                <div class="d-flex">
                  <div
                    *ngFor="let g of gender[0]"
                    let
                    i="index"
                    class="form-check"
                  >
                    <input
                      type="radio"
                      name="gender"
                      formControlName="gender"
                      [value]="g.id"
                      class="form-check-input"
                      onclick="return false"
                      (change)="radiochangeHandler(g.id)"
                    />
                    <label
                      class="form-check-label mrt-1"
                      for="flexRadioDefault3"
                    >
                      {{ g.gender }}
                    </label>
                  </div>
                </div>
                <div
                  *ngIf="
                    doctorForm.controls['gender'].invalid &&
                    doctorForm.controls['gender'].touched
                  "
                  class="error text-danger small"
                >
                  <div *ngIf="doctorForm.controls['gender'].errors">
                    Gender is required
                  </div>
                </div>
              </div>
            </div>
            <div class="row d-flex justify-content-between mb-3">
              <div class="col-md-2">
                <div class="gender-set mb-2"><label for="">Photo</label></div>

                <img
                  style="height: 100px; width: 100px"
                  src="{{ imgprofile}}"
                  alt=""
                />
                <!-- <div class="form-group">
                                    <label for="file-input" style="display: none">
                                        <img style="width:160px;" [src]="DoctorImagePath" *ngIf="DoctorImagePath"
                                            alt="">
                                        <img [src]="imageSrc" *ngIf="imageSrc" style="width:160px;;" class="avatar">
                                    </label>

                                    <input id="file-input" type="file" accept="image/*" (change)="onFileChange($event)"
                                        #fileInput />
                                    <div class="text-red"> <label for="">Change Photo</label></div>

                                </div> -->
              </div>

              <div class="col-md-2">
                <div class="gender-set mb-2">
                  <label for="">Signature</label>
                </div>
                <img
                  style="height: 100px; width: 100px"
                  src="{{signature}}"
                  alt=""
                />
              </div>
              <div class="col-md-4 save-details">
                <!-- <button class="btn bg-darkblue mnWdth75" (click)="submitdoctordetails()">
                                    save
                                </button> -->
              </div>
              <div class="row" *ngIf="showMsg">
                <div class="col-xs-12">
                  <p class="alert alert-success">
                    <strong>Update Success!</strong>!.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>

      <!-- Notifications div -->
      <div
        class="tab-pane fade"
        id="v-pills-notification"
        role="tabpanel"
        aria-labelledby="v-pills-notification-tab"
      >
        <div class="section-notification">
          <div class="container">
            <div
              class="row d-flex align-items-center"
              *ngFor="let notify of getNotify"
            >
              <div class="col-md-11">
                <div class="">
                  <div class="notification-detail d-flex">
                    <div class="flex-grow-1">
                      {{ notify.message }}
                    </div>
                    <div class="">
                      <div>{{ notify.createdOn }}</div>
                      <div>2:15 pm</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-1">
                <div>
                  <img
                    style="width: 20px"
                    src="../../../../assets/Images/smaill-icon/delete-icon.png"
                    alt=""
                    (click)="DeleteNotification(notify.id)"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- History div -->
      <div
        class="tab-pane fade"
        id="v-pills-messages"
        role="tabpanel"
        aria-labelledby="v-pills-messages-tab"
      >
        <div class="patient-history">
          <div class="top-search-register">
            <input
              class="nosubmit"
              type="search"
              placeholder="Advance Search"
              (click)="searchadvancedPatient()"
              *ngIf="issearchPatients"
            />
            <img
              (click)="imgOnclick()"
              *ngIf="serachImg"
              height="20"
              style="margin-top: 0px"
              src="../../../../assets/Images/smaill-icon/arrow.jpg"
              class="backbutton"
            />
            <input
              class="nosubmit advance-search"
              type="search"
              style="width: 100%"
              (click)="advancessearch()"
              *ngIf="isadvancesearchPatients"
              placeholder="Advance Search"
              [(ngModel)]="searchedKeyword"
              (keyup)="applyFilter($event)"
            />
          </div>
          <div class="" *ngIf="isYesterdayPatient">
            <div class="yesterday-patient">Yesterday's Patient</div>

            <table class="table">
              <thead>
                <tr class="border-style-hidden">
                  <th scope="col">Patient Name</th>
                  <th scope="col">Patient ID</th>
                  <th scope="col">Gender</th>
                  <th scope="col">Age</th>
                  <th scope="col">Phone Number</th>
                  <th scope="col">Date of Registration</th>
                  <th scope="col">PHC Name</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let Yester of yesterdaypatient">
                  <td
                    style="cursor: pointer"
                    (click)="onclickvideoIcon(Yester.id)"
                  >
                    {{ Yester.patientName }}
                  </td>
                  <td>{{ Yester.patientID }}</td>
                  <td>{{ Yester.gender }}</td>
                  <td>{{ Yester.age }}</td>
                  <td>{{ Yester.referredbyPHCName }}</td>
                  <td>{{ currentDate(Yester) }}</td>
                  <td>{{ Yester.phcname }}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div *ngIf="isAdvancePatient" class="advanced-patient">
            <div class="mtp-2 mbt-2">
              <form [formGroup]="historyAdvanceSearch" autocomplete="off">
                <div class="row line-height">
                  <div class="col-md-3">
                    <div class="form-group mb-2">
                      <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                        >Patient Name</label
                      >
                      <input
                        type="text"
                        class="form-control input-history"
                        formControlName="patientName"
                        id="exampleFormControlInput1"
                        placeholder="Patient Name"
                      />
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-group mb-2">
                      <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                        >Patient UID</label
                      >
                      <input
                        type="text"
                        class="form-control input-history"
                        formControlName="patientUID"
                        id="exampleFormControlInput1"
                        placeholder="Patient UID"
                      />
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-group mb-2">
                      <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                        >Contact Number</label
                      >
                      <input
                        type="text"
                        class="form-control input-history"
                        formControlName="contactNo"
                        id="exampleFormControlInput1"
                        placeholder="Contact Number"
                        maxlength="10"
                        onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                        autocomplete="password"
                      />
                    </div>
                  </div>
                </div>

                <div class="row line-height">
                  <!-- <div class="col-md-3">
                                        <div class="form-group mb-2">
                                            <label for="exampleFormControlInput1 mb-2" class="mbt-1">Patient Father's
                                                Name</label>
                                            <input type="text" class="form-control input-history"
                                                id="exampleFormControlInput1" placeholder="Patient Father's Name">
                                        </div>
                                    </div> -->

                  <!-----------merge conflict 5Dec 2022 pull lene ke baad----------->
                  <!-- <div class="col-md-3">
                                        <div class="form-group mb-2">
                                            <label for="exampleFormControlInput1 mb-2" class="mbt-1">Date of
                                                Registration</label>
                                            <input type="date" class="form-control input-history"
                                                formControlName="dateOfRegistration" id="exampleFormControlInput1"
                                                placeholder="Date of Registration">
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="form-group mb-2">
                                            <label for="exampleFormControlInput1 mb-2" class="mbt-1">Date of
                                                Birth</label>
                                            <input type="date" class="form-control input-history"
                                                formControlName="dateOfBirth" id="exampleFormControlInput1"
                                                placeholder="Age">
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="form-group mb-2">
                                            <label for="exampleFormControlInput1 mb-2" class="mbt-1">Gender</label>
                                            <select class="form-control  input-history" id="exampleFormControlInput1"
                                                formControlName="genderId">
                                                <option value="">Select Gender</option>
                                                <option *ngFor="let g of genderseacrh[0]; let i = index;"
                                                    [value]="g.id">
                                                    {{g.gender}}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-1 search-advance-set" (click)="advanceSearchClick()">
                                        <div class="search-set-icon">
                                            <img src="../../../../assets/Images/smaill-icon/search-icon-white.png"
                                                alt="">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <table class="table">
                            <thead>
                                <tr class="border-style-hidden">
                                    <th scope="col">Patient Name</th>
                                    <th scope="col">Patient ID</th>
                                    <th scope="col">Gender</th>
                                    <th scope="col">Age</th>
                                    <th scope="col">Phone Number</th>
                                    <td scope="col">Date of Registration</td>
                                    <td scope="col">PHC Name</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let past of Pastpatients |  filter:searchedKeyword; let i = index;">
                                    <td style="cursor:pointer;" (click)="onclickvideoIcon(past.id)">@@@@@@@{{ past.patientName
                                        }}</td>
                                    <td>{{ past.patientID}}</td>
                                    <td>{{ past.gender}}</td>
                                    <td>{{ past.age}}</td>
                                    <td>{{ past.phoneNumber}}</td>
                                    <td>{{currentDate(past)}}</td>
                                    <td>{{past.phcname}}</td>
                                </tr>
                            </tbody>
                        </table> -->

                  <!-------------merge conflict ends------------------->
                  <div class="col-md-3">
                    <div class="form-group mb-2">
                      <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                        >Date of Registration</label
                      >
                      <input
                        type="date"
                        class="form-control input-history"
                        formControlName="dateOfRegistration"
                        id="exampleFormControlInput1"
                        placeholder="Date of Registration"
                        max="{{ todayDate }}"
                      />
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="form-group mb-2">
                      <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                        >Date of Birth</label
                      >
                      <input
                        type="date"
                        class="form-control input-history"
                        formControlName="dateOfBirth"
                        id="exampleFormControlInput1"
                        placeholder="Age"
                        max="{{ todayDate }}"
                      />
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="form-group mb-2">
                      <label for="exampleFormControlInput1 mb-2" class="mbt-1"
                        >Gender</label
                      >
                      <select
                        class="form-control input-history"
                        id="exampleFormControlInput1"
                        formControlName="genderId"
                      >
                        <option value="">Select Gender</option>
                        <option
                          *ngFor="let g of gender[0]; let i = index"
                          [value]="g.id"
                        >
                          {{ g.gender }}
                        </option>
                      </select>
                    </div>
                  </div>
                  <div
                    class="col-md-1 search-advance-set"
                    (click)="advanceSearchClick()"
                  >
                    <div class="search-set-icon">
                      <img
                        src="../../../../assets/Images/smaill-icon/search-icon-white.png"
                        alt=""
                      />
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <!-- <table class="table">
              <thead>
                <tr class="border-style-hidden">
                  <th scope="col">Patient Name</th>
                  <th scope="col">Patient ID</th>
                  <th scope="col">Gender</th>
                  <th scope="col">Age</th>
                  <th scope="col">Phone Number</th>
                  <td scope="col">Date of Registration</td>
                  <td scope="col">PHC Name</td>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="
                    let past of Pastpatients | paginate
                    : {
                        itemsPerPage: 10,
                        currentPage: 0,
                        totalItems: 50
                      };
                    let i = index
                  "
                >
                  <td
                    style="cursor: pointer"
                    (click)="onclickvideoIcon(past.id)"
                  >
                    {{ past.patientName }}
                  </td>
                  <td>{{ past.patientID }}</td>
                  <td>{{ past.gender }}</td>
                  <td>{{ past.age }}</td>
                  <td>{{ past.phoneNumber }}</td>
                  <td>{{ currentDate(past) }}</td>
                  <td>{{ past.phcname }}</td>
                </tr>
              </tbody>
            </table> -->

            <table
              style="width: 100%"
              mat-table
              class="mat-elevation-z8"
              [dataSource]="dataSource"
              matSort
              matSortDisableClear
              matSortDirection="desc"
            >
              <ng-container matColumnDef="sno">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  SL No.
                </th>
                <td mat-cell *matCellDef="let element; let i = index">
                  {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
                </td>
              </ng-container>

              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Patient Name
                </th>
                <td
                  mat-cell
                  *matCellDef="let element"
                  style="cursor: pointer"
                  (click)="onclickvideoIcon(element.id)"
                >
                  {{ element.patientName }}
                </td>
              </ng-container>

              <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Patient ID
                </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.patientID }}
                </td>
              </ng-container>
              <ng-container matColumnDef="gender">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Gender
                </th>
                <td mat-cell *matCellDef="let element">{{ element.gender }}</td>
              </ng-container>

              <ng-container matColumnDef="age">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Age</th>
                <td mat-cell *matCellDef="let element">{{ element.age }}</td>
              </ng-container>

              <ng-container matColumnDef="number">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Phone Number
                </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.phoneNumber }}
                </td>
              </ng-container>

              <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Date of Registration
                </th>
                <td mat-cell *matCellDef="let element">
                  {{ currentDate(element) }}
                </td>
              </ng-container>

              <ng-container matColumnDef="phcName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  PHC Name
                </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.phcName }}
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
            <mat-paginator
              #paginatorRef
              [pageSizeOptions]="[10]"
              showFirstLastButtons
            ></mat-paginator>
          </div>
        </div>
      </div>

      <!-- patient queue -->
      <div
        class="tab-pane fade"
        id="v-pills-patient-queue"
        role="tabpanel"
        aria-labelledby="v-pills-patient-queue-tab"
      >
        <div class="patient-queue-header">
          <h2>
            <div class="d-flex bd-highlight">
              <div class="p-2 bd-highlight">Patients Queue</div>
              <div class="p-2 flex-grow-1 bd-highlight">(WaitList)</div>
              <div class="p-2 bd-highlight">
                <img
                  (click)="refreshButton()"
                  style="width: 20px; cursor: pointer"
                  src="../../../../assets/Images/smaill-icon/refresh-red.png"
                  alt=""
                />
              </div>
            </div>
          </h2>

          <table class="table">
            <thead>
              <tr>
                <th scope="col">S.No.</th>
                <th scope="col">Patient Name</th>
                <th scope="col">Patient Case Label</th>
                <th scope="col">Patient ID</th>
                <th scope="col">PHC Name</th>
                <th scope="col">District</th>
                <th scope="col">Doctor Gender</th>
                <th scope="col">Doctor Speciality</th>
                <th scope="col">Waitlist Number</th>
                <th scope="col">Initiate Call</th>
                <th scope="col">Waiting Time</th>
                <!-- <th scope="col">Update Queue</th> -->
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let p of patientWailtListQueue">
                <th scope="row">{{ p.srNo }}</th>
                <td>{{ p.patient }}</td>
                <td>{{ p.caseHeading }}</td>
                <td>{{ p.regID }}</td>
                <td
                  [ngClass]="{
                    green: p.isPHCFree == 'Yes' && p.isPHCInCall == 'No',
                    red: p.isPHCFree == 'No' && p.isPHCInCall == 'No',
                    orange: p.isPHCInCall == 'Yes'
                  }"
                >
                  {{ p.phcName }}
                </td>
                <td>{{ p.districtName }}</td>
                <td>{{ p.gender }}</td>
                <td>{{ p.specialization }}</td>
                <td>{{ p.waitList }}</td>
                <td >
                  <app-twilio-call-button
                    [skipOnInit]="true"
                    [patientCaseId]="p.patientCaseID || 0" 
                    [isPHCFree] ="p.isPHCFree"
                    style="line-height: 2"
                    [disabled]="isShowButton"
                    
                  >
                    <img
                      src="../../../../assets/Images/smaill-icon/black-video-icon.png"
                      alt=""
                    />
                  </app-twilio-call-button>
                </td>
                <td
                  [ngClass]="{ green: p.timeDiff <= 45, red: p.timeDiff > 45 }"
                >
                  {{ p.timeDiff }}
                </td>
                <!-- <td><button type="button"
                                        style="background-color:#f27474!important;border:unset!important;border-radius:5px; color:#fff;padding-top:10px;padding-bottom:10px;line-height: 1;"
                                        (click)="changeQueue(p.patientCaseID);">Change Queue</button></td> -->
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- calendar -->
      <div
        class="tab-pane fade"
        id="v-pills-calendar"
        role="tabpanel"
        aria-labelledby="v-pills-calendar-tab"
      >
        <!-- <app-consultationcalendar></app-consultationcalendar> -->

        <div class="calendar patient-queue-header-calendar">
          <!-- <div class="row">
      <div class="col-12 text-center">
  
          <button (click)="previousMonth()">Previous</button>
   
          <h2> {{months[currentMonth] }} {{ currentYear }}</h2>
    
          <button (click)="nextMonth()">Next</button>
      
      </div>
  </div> -->

          <div class="text-center mb-3">
            <button
              (click)="previousMonth()"
              [disabled]="hasPreviousMonthClicked"
              class="btn btn-primary"
              style="width: 10%"
            >
              Previous
            </button>

            <label class="monthyear mr-2 ml-2"
              >{{ months[currentMonth] }} {{ currentYear }}</label
            >

            <button
              (click)="nextMonth()"
              class="btn btn-primary"
              style="width: 10%"
              [disabled]="disablenext"
            >
              Next
            </button>
          </div>

          <div class="row w-100 mb-4">
            <div class="col-2"></div>
            <div class="col-8">
              <table style="background-color: aliceblue">
                <thead>
                  <tr>
                    <th *ngFor="let day of daysOfWeek">{{ day }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    style="font-weight: bold"
                    *ngFor="let week of calendarDays"
                  >
                    <td *ngFor="let day of week">
                      {{ day > 0 ? day : "" }}

                      <div
                        class="consultation"
                        *ngFor="let event of getEventsForDay(day)"
                      >
                        <b class="round" *ngIf="event.totalConsultation !== 0">
                          {{ event.totalConsultation }}</b
                        >
                        <p class="round-absent" *ngIf="event.totalAbsent !== 0">
                          {{ event.totalAbsent }}
                        </p>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="col-2"></div>
          </div>

          <div class="row w-100">
            <div class="col-2"></div>
            <div class="col-10" style="align-items: center">
              <div>
                <b class="round consultation"> {{ totalConsultation }}</b
                ><b> - Total Consultation</b>
                <!-- <legend class="round" style="color: aliceblue;">{{totalConsultation}}</legend> &nbsp;  -   &nbsp;<b>  Total Consultation</b> -->
              </div>
            </div>
          </div>
          <div class="row w-100">
            <div class="col-2"></div>
            <div class="col-10" style="align-items: center">
              <div>
                <b class="round-absent-count consultation"> {{ totalAbsent }}</b
                ><b> - Patient Absent</b>

                <!-- <legend class=""  style="color: aliceblue;">{{totalAbsent}}</legend> &nbsp;  -   &nbsp;<b> Patient Absent</b> -->
              </div>
            </div>
          </div>
        </div>
        <ngx-loading
          [show]="loading"
          [config]="{
            animationType: ngxLoadingAnimationTypes.rectangleBounce,
            backdropBackgroundColour: 'rgba(255,255,255,0.3)',
            backdropBorderRadius: '10px',
            primaryColour: '#ff9900',
            secondaryColour: '#ff9900',
            tertiaryColour: '#009900',
            fullScreenBackdrop: true
          }"
        ></ngx-loading>
      </div>
    </div>
  </div>
</section>
<ngx-loading
  [show]="loading"
  [config]="{
    animationType: ngxLoadingAnimationTypes.rectangleBounce,
    backdropBackgroundColour: 'rgba(255,255,255,0.3)',
    backdropBorderRadius: '10px',
    primaryColour: '#ff9900',
    secondaryColour: '#ff9900',
    tertiaryColour: '#009900',
    fullScreenBackdrop: true
  }"
></ngx-loading>
